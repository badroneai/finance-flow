# تقرير الخطوة 8: استخراج صفحة الدفاتر (LedgersPage)

## ما تم إنجازه

- **إنشاء** `src/pages/LedgersPage.jsx`: نقل مكون LedgersPage بالكامل من `App.jsx` مع كل التبعيات (useToast، dataStore، core/ledger-store، core/recurring-intelligence، ledger-budgets، ledger-intelligence-v1، exports-map، ledger-inbox، ledger-cash-plan، ledger-item-history، ledger-budget-authority، ledger-compliance، ledger-reports، LedgerHeader، LedgerTabsShell، التبويبات الثلاثة، ConfirmDialog، EmptyState، Badge، Currency، Icons، MSG، KEYS، today، isValidDateStr، safeNum، contracts).
- **تعديل** `App.jsx`: إضافة `import LedgersPage from './pages/LedgersPage.jsx'`، حذف تعريف LedgersPage بالكامل، وإزالة استيرادات المكونات/التبويبات الخاصة بالدفاتر التي لم تعد مستخدمة في App.
- **تصحيح استيراد**: `Currency` يُستورد من `../utils/format.jsx` وليس من `ui-common.jsx`.

## أحجام الملفات

| الملف | عدد الأسطر |
|--------|------------|
| **LedgersPage.jsx** (الجديد) | **1 286** |
| **App.jsx** (النهائي) | **501** |

## التحقق

- **`npm run build`**: نجح بدون أخطاء.

## ملاحظات

- مكون LedgersPage هو الأكبر في المشروع (~1 183 سطر منطقي + الاستيرادات والتعليقات).
- تبويبا «التوقعات» و«صندوق الوارد» مضمّنان داخل LedgersPage (عبر LedgerRecurringTab والبيانات المحسوبة في الصفحة) وتم نقلهما مع المكون دون تغيير سلوك.
